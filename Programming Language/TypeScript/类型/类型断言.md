---
tags:
  - TypeScript
---

```typescript
// 类型断言的两种语法形式

// 1. 尖括号语法（在JSX中不可用）
let someValue: unknown = "这是一个字符串";
let strLength1: number = (<string>someValue).length;

// 2. as语法（推荐使用，在JSX中也可用）
let strLength2: number = (someValue as string).length;

// 常见的类型断言场景
interface User {
    name: string;
    email: string;
}

// 断言DOM元素的具体类型
const inputElement = document.getElementById("username") as HTMLInputElement;
inputElement.value = "test@example.com";

// 断言对象为特定接口类型
const userData = JSON.parse('{"name":"张三","email":"zhang@example.com"}') as User;
console.log(userData.name);

// 断言联合类型
function getLength(value: string | number): number {
    if (typeof value === "string") {
        return (value as string).length;  // 类型断言确保是字符串
    } else {
        return (value as number).toString().length;  // 断言为数字
    }
}
```

比较像C#`as`关键字
