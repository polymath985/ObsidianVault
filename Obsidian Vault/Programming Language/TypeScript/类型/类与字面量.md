---
tags:
  - TypeScript
---
![[Pasted image 20250813160058.png]]
**第一种是类（`class` ）的声明**，**第二种不是类的声明，只是一个普通的对象字面量赋值** ，下面详细说它们的区别：

类是抽象模板，而对象字面量已经是实例，对象字面量像是匿名类实例

更有趣的是，字面量可以当做变量类型约束

```ts
const str : "hello" = "hello";

//其他语言需要Enum约束
function chageDir(dir:"up"|"down"|"left"|"right"):void{
	console.log(dir)；
}
```
### 1. 语法与本质

- **类声明（`class Person` ）**：  
    用 `class` 关键字定义，是一种面向对象编程的语法结构，包含构造函数（`constructor` ）、属性（`name`、`age` ）、方法（`greet` ）。类是创建对象的蓝图，通过 `new` 关键字实例化对象，比如 `new Person('Alice', 25)` ，实例化过程中会调用构造函数初始化属性。
- **对象字面量**：  
    是直接创建一个对象的简洁语法，用 `{}` 包裹属性和值（这里还加了类型标注 `let Person1:{name:string, age:number} = {...}` ）。它没有类的概念（没有构造函数、方法定义的模板逻辑等 ），就是直接创建一个具备特定属性的对象实例，无法像类那样通过 `new` 批量创建同结构对象（除非结合工厂函数，但和类的机制不同 ）。

### 2. 实例创建与复用

-  **类**：  
    可以多次实例化，每次 `new` 都会创建一个独立的对象实例，且遵循类定义的逻辑（构造函数执行、方法继承等 ）。比如：

```typescript
const person2 = new Person('Bob', 30);
const person3 = new Person('Charlie', 28);
```

`person2` 和 `person3` 都是 `Person` 类的实例，都有 `greet` 方法，属性各自独立。

- **对象字面量**：  
    每次写 `{name: "...", age: ...}` 都是创建一个新对象，若要多个同结构对象，得重复写类似结构（或用函数封装生成，但不是类的继承、实例化逻辑 ）。而且对象字面量本身不支持方法的复用（除非把方法也写进字面量，但每个对象的方法都是独立的引用，不像类的方法是原型链共享 ）。


> [!NOTE] 对象字面量的属性也是可选的
	
### 3. 方法与继承

- **类**：  
    类的方法（如 `greet` ）定义在类的原型上，通过原型链实现继承，多个实例共享方法的定义（节省内存 ）。子类还能继承父类，重写或扩展方法，实现多态等面向对象特性，比如：


```typescript
class Student extends Person {
  study() {
    console.log(`${this.name} is studying`);
  }
}
```

`Student` 类继承 `Person` 类，能复用 `name`、`age` 属性和 `greet` 方法，还能添加新方法。  

- **对象字面量**：  
    若在对象字面量里写方法（比如 `{name: "John", age: 30, greet() { ... }}` ），每个对象的方法都是独立的函数实例。而且对象字面量无法直接实现继承（虽然可以用 `Object.create` 等方式模拟，但和类的继承语法、语义不同 ），不具备类那样清晰的继承体系和多态能力。

### 4. 类型系统角色

- **类**：  
    类本身既是类型（可用于类型标注，比如 `let p: Person = new Person(...)` ），也是值（能通过 `new` 实例化 ）。TypeScript 里，类的类型包含它的属性、方法的类型信息，实例化的对象会被推断为类的类型。
- **对象字面量的类型标注**：  
    这里给对象字面量加的 `{name:string, age:number}` 是**对象类型接口（或叫匿名类型 ）** ，用来约束 `Person1` 对象的属性类型。它只是类型层面的约束，和类的类型不同（类的类型还包含方法、继承关系等更丰富的面向对象类型信息 ）。
  

简单说，类是更完整的面向对象抽象，用于创建具有相同结构、行为的对象集合；对象字面量是直接创建单个对象的简便方式，适合一次性、简单结构的对象，不具备类的复用、继承、方法共享等特性 。