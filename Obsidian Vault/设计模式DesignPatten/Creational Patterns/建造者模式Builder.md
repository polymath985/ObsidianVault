---
tags:
  - 设计模式
  - CSharp
---
# 定义

建造者模式是将一个复杂的对象的构建与他的表示分离，使得同样的构建过程可以创建不同的表示。创建者模式隐藏了复杂对象的创建过程，他把复杂对象的创建过程加以抽象，通过子类继承或者重载的方式，动态的创建复杂的，具有复合属性的对象。

![[Pasted image 20250526111235.png]]

# 优点

- 一定程度上，消除了类爆炸问题
- 职责分离，由单独一个生产线组装产品

# 缺点

- 配件配置变得固定了，不能随意组合
- 对于大多数场景依然过于复杂，比如，未必每一个配置的手机都需要一个生产线，组装手机也未必需要一个单独的生产线

# 简化

将`Build`方法放在基类而非`Director`中，简化使用，相当于提取了共同方法，实现代码复用，但丧失了一定灵活度（可以用`virtual`?)

![[Pasted image 20250526112408.png]]
*图：简化过的`Builder`*

![[Pasted image 20250526112656.png]]
*图：主函数调用情况*

![[Pasted image 20250526112847.png]]

# 进一步优化

为了实现接口隔离，可以再将继承的父类替换为接口`IBuilder`

通过委托结合`return this`实现链式编程，太优雅了！

![[Pasted image 20250527101813.png]]
*图：新的Builder类*

![[Pasted image 20250527102133.png]]
*图：调用实现构造*